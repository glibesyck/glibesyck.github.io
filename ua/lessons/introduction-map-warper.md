---
title: "Вступ до Map Warper"
collection: lessons
layout: lesson
slug: introduction-map-warper-ukr
date: 2021-11-17
translation_date: 2022-10-24
original: introduccion-map-warper
authors:
  - Anthony Picón Rodríguez
  - Miguel Cuadros
editors:
  - Antonio Rojas Castro
reviewers:
  - José Luis Losada
  - Riva Quiroga
translator:
  - Тарас Назарук
translation-editor:
  - Олександр Корман
review-ticket: https://github.com/programminghistorian/ph-submissions/issues/426
difficulty: 2
activity: transforming
topics: [mapping]
abstract: "Це заняття знайомить з основами використання Map Warper для історичних мап. Він проводить вас через всі етапи - від завантаження до експорту, демонструючи методи географічної прив’язки (геоприв’язки) та створення візуалізацій."
avatar_alt: Image of a map of the Coffee Region of the Republic of Colombia.
doi: 10.46430/phen0106
---

{% include toc.html %}

# Map Warper Tool

Розроблений Тімом Уотерсом, [Map Warper](https://perma.cc/SK6Z-7Y3G) — сервіс геоприв’язки з відкритим початковим кодом, написаний на [Ruby on Rails](https://perma.cc/Y2TG-6PP7); програма дозволяє користувачам завантажувати відскановані карти і географічно прив'язувати їх до [OpenStreetMap](https://perma.cc/52L2-Q9W8). Вона надає можливість геоприв'язки та візуалізації географічних територій без необхідності встановлення програмного забезпечення. Інструмент впроваджений у різних цифрових проектах по всьому світу і використовується багатьма спеціалістами, які не обов'язково є експертами в галузі картографії.

Map Warper був розроблений для геоприв’язки історичних мап (мап світу, портоланів, морських карт, топографічних карт, архітектурних планів, географічних карт), аерофотознімків та інших картографічних матеріалів, що містяться в колекціях культурної спадщини. Таким чином, цей інструмент дозволяє користувачеві генерувати географічно прив’язані матеріали для роботи на настільних растрах (растр - система ліній (смужок, точок), нанесених у певному порядку на будь-яку поверхню яким-небудь способом) або онлайн [(Map Server)](https://perma.cc/W2B8-QD4U) з метою прив'язки до геоінформаційних систем ([QGIS](https://perma.cc/KCH9-596K), [JOSM](https://perma.cc/YQ6S-62BA), [ArcGIS](https://perma.cc/CK4T-CJPR), [Google Earth](https://perma.cc/EE7T-FZ2B), [WorldMap](https://worldmap.maps.arcgis.com/home/index.html) та ін.). Колективні налаштування інструменту також допомагають децентралізувати і впорядкувати процеси геоприв’язки каталогізації та візуалізації.

Завдяки цим характеристикам інструмент є корисним для дослідників, викладачів і студентів, а також для установ, які розвивають процеси оцифрування, візуалізації та картографічних експериментів для своїх колекцій або для розвитку просторової гуманітаристики, таких як [Центр міської історії](https://perma.cc/Q8WV-DG4A), Український католицький університет, [Наукова бібліотека Львівського національного університету](https://www.lnulibrary.lviv.ua/), [Національна бібліотека Польщі](https://polona.pl/) тощо.

# Цілі уроку

Глобальні тенденції були суттєво позначені технологічним розвитком і помітними епістемологічними змінами, які зосереджуються на просторовості, що, в свою чергу, вплинуло на соціальні та гуманітарні науки. Технології розширили можливості дослідження та візуалізації, тим самим змінивши наші підходи до осмислення та інтерпретації минулого. Як наслідок, Map Warper є одночасно і продуктом, і виробником цих технологічних зв'язків, які генерують і розширюють нові інтерпретації.

[Геоприв’язка](https://perma.cc/8BHH-QWVV) — це процес приписування географічних координат до відсканованої карти або растрового зображення. Багато істориків географічно прив'язують мапи, щоб вивчати, як місця змінювалися з часом. У цьому заняттіі ми розглянемо послідовність дій з прив'язки географічних координат до відсканованої історичної мапи і покажемо, як експортувати мапу з геоприв'язкою.

Це заняття був задумане як перша складова частина більшого модуля, орієнтованого на використання цифрових інструментів для геоприв’язки, векторизації, вибірки, організації та експериментів з географічними даними в архівній бібліографії та картографії, оцифровані різними установами (архівами, бібліотеками, музеями).

У цьому занятті ви будете здійснювати географічну прив'язку карти [плану Львова 1890 року](https://polona.pl/item/plan-krolewskiego-stolecznego-miasta-lwowa-z-enklawa-jalowiec-takze-maszow-lwow-ii,NzU2MDc2Njc/0/#info:metadata) з колекції Національної бібліотеки Польщі.[^2] Над мапою є кнопка експорту. Натисніть кнопку експорту, щоб завантажити зображення мапи. Файл буде завантажено у форматі .zip, який містить файл мапи у форматі .jpg та файл метаданих у форматі .txt. При натисканні на кнопку експорту ми рекомендуємо завантажувати один з найбільших файлів, щоб забезпечити найвищу роздільну здатність мапи. Після того, як ви розпакуєте файл .zip, збережіть файл .jpg на своєму комп'ютері під назвою `NC_SC.jpg`.

Перш ніж почати прив'язувати відскановану мапу, важливо розуміти місця, які зображені на ній, а також історичний контекст складання мапи. Не всі історичні мапи підходять для геоприв’язки. Мапа повинна містити достатньо інформації, щоб користувач міг впевнено визначити координати широти і довготи або зіставити її з мапою геоінформаційних систем (ГІС), використовуючи фізичні об'єкти. Часто потрібно дослідити розташування історичних місць та елементів, які вже не існують, і прийняти засноване на наявній інформації рішення щодо їхнього правильного розміщення. Деякі мапи можуть не містити достатньо геоінформації, а при геоприв’язці можуть бути настільки викривлені, що стануть нерозбірливими або неточними.

{% include figure.html filename="figure1.png" alt="A historical map warped into an irregular quadrilateral shape, and overlaid onto a larger-scale contemporary map" caption="Зображення 1: A map too warped to be used effectively." %}

[Масштаб](https://perma.cc/LD2A-88X9), роздільна здатність і [проекція](https://perma.cc/CYD5-CCQM) відсканованої карти також є важливими аспектами при виборі історичної мапи для геоприв'язки. Дрібномасштабні мапи, як правило, не підходять для високодеталізованої геоприв'язки і можуть викликати проблеми з відображенням точного розташування об'єктів. При виборі або скануванні історичної мапи для геоприв'язки найкраще використовувати мапу, яка відсканована з високою роздільною здатністю (300 dpi або більше), щоби при збільшенні та зменшенні масштабу можна було легко побачити елементи на мапі. Також найкраще використовувати ту саму проекцію, що й на історичній карті, щоб звести до мінімуму неточності. Геоприв'язка мапи в неправильній проекції може призвести до невідповідності між історичною та поточною мапами, розтягування ліній, фігур і відстані між об'єктами. Map Warper не надає можливості перепроектувати картографічні дані; якщо вам не вдається отримати розбірливу мапу або якщо ви вимірюєте відстань, вам може знадобитися більш досконале програмне забезпечення ГІС, таке як QGIS, яке дозволить вам точно вказати картографічні проекції. Для більш детальної інформації про найкращі практичні підходи до геоприв'язки див. [список рекомендацій від Esri](https://perma.cc/GF85-4YF6).

Кілька навідних запитань, які варто поставити:

- Яка місцевість зображена на історичній мапі/картографічному зображенні?
- Які зміни відбулися з часу її створення?
- Чи впізнаєте ви сучасні географічні орієнтири?
- Яка правильна орієнтація зображення?

У цьому занятті ви попрацюєте з Map Warper над створенням геоприв’язаної історичної мапи, а потім накладете її на сучасну основну мапу, щоб опублікувати і взаємодіяти з нею на веб-сторінці.

Цей розділ доповнює інші заняття з курсу _Programming Historian_, які стосуються використання ГІС для просторового аналізу: [Геоприв’язка в QGIS 2.0](/en/lessons/georeferencing-qgis) та [Вступ до Google Maps і Google Earth](/en/lessons/googlemaps-googleearth). Окрім вивчення необхідних технічних кроків для геореференції історичних мап, це заняття слугуватиме вступом до вивчення картографії культурної спадщини та її значення в історичних дослідженнях.

# Початок роботи

## Створити обліковий запис

За допомогою вашого улюбленого браузера перейдіть на [https://mapwarper.net/](https://mapwarper.net) і натисніть на вкладку "Створити Обліковий Запис" у верхньому правому куті вікна. Ви можете увійти за допомогою свого облікового запису Facebook, OpenstreetMap або GitHub, щоб полегшити процес реєстрації.

{% include figure.html filename="account.gif" alt="Animated gif demonstrating the clicks required to create an account from Map Warper's homepage" caption="Зображення 2. Створення облікового запису." %}

## Завантажити карту

Щоб імпортувати відскановану мапу до Map Warper напряму з вашого локального файлу або з онлайн-репозиторію (шляхом посилання за відповідною URL-адресою), на головній сторінці натисніть зелену кнопку “Upload Map” ("Завантажити мапу"). На цьому етапі ви також можете почати додавати метадані до матеріалу, який ви будете географічно прив’язувати.

У нижній частині екрана натисніть кнопку Choose File (Вибрати Файл) у розділі “Upload an image file” ("Завантажити файл зображення"). Перейдіть до карти `NC_SC.jpg`, яку ви завантажили на свій комп'ютер, і натисніть кнопку Create (Створити).

<div class="alert alert-info">
Примітка: Кожне ім'я файлу у Map Warper має бути унікальним, тому вам потрібно буде дати зображенню нове ім'я після завантаження мапи на ваш комп'ютер, наприклад, `NC_SC_Map_yourlastname.jpg`.
</div>

## Редагування

На наступному екрані вам буде запропоновано ввести описову інформацію, яка полегшить пошук мапи (так звані [метадані](https://perma.cc/966P-PQ7L)). Поле метаданих також доступне на вкладці Метадані. Попри те, що обов'язковим є лише поле Title (Назва), зазвичай рекомендується надавати якомога більше інформації, щоб інші користувачі могли дізнатися більше про джерело вашої відсканованої мапи, до якої ви здійснюєте геоприв'язку. Заповніть метадані на основі наданої вам інформації про історичну мапу, з якою ви працюєте. Для плану Львова 1890 року ви можете знайти метадані поруч з мапою порталі [Національної бібліотеки Польщі Polona.pl](). З огляду на спільну та колективну сутність Map Warper, ми рекомендуємо вам додавати наступні метадані:

- Title (Назва): Назва та реєстраційний номер. Це впорядковує інформацію, щоб полегшити пошук мапи в її оригінальному репозиторії.
- Description (Опис): Довідкова інформація до картографічного зображення.
- Issue Year (Рік видання): Рік, в якому мапа була створена або опублікована.
- Tags (Теги): 3-5 ключових слів, що описують мапу.
- Subject Area (Сфера предмета): Типологія картографічного матеріалу.
- Source (Джерело): URL-адреса джерела документа.
- Place of publication (Місце публікації): Місце, де документ був опeблікований або створений.
- Scale (Масштаб): Числовий масштаб.
- Metadata Projection (Проекція метаданих): Картографічна проекція.

# Геоприв’язка мапи за допомогою Map Warper

Спершу потрібно завантажити мапу і прив'язати її до місцевості за допомогою Map Warper. Map Warper має різноманітні варіанти експорту, включаючи [WMS](https://perma.cc/PSX7-UN4J) URL, [Tiles](https://perma.cc/P3KF-97L7), [GeoTIFF](https://perma.cc/5QLD-8HG5) або [KML](https://perma.cc/6QEN-YTHS) файл. Якщо ви хочете відобразити вашу мапу з геоприв'язкою онлайн, дивіться розділ _Programming Historian_: [Відображення мапи з геоприв'язкою у Story Map JS](/en/lessons/displaying-georeferenced-map-knightlab-storymap-js).

## Візуалізація карти

На цій вкладці буде показана візуалізація прикліпленої геоприв’язаної мапи або картографічного документа. Надані інструменти навігації включають можливість збільшення масштабу і переміщення по мапі.

Користувачам може виявитися корисним визначити типи точок для геоприв'язки (міські та природні об'єкти, юрисдикції, дороги тощо), а також різні ресурси, які можна використовувати для перехресних посилань і для доповнення наданої інформації (статистичні дані, урядові звіти, особисті документи або навіть картографічні зображення, створені до або після того, що використовується для цієї візуалізації). Ці аспекти можуть бути дуже корисними для дослідницького розвитку, оскільки цифрова візуалізація має полегшити критичну інтерпретацію матеріалу. Це є особливо очевидним при використанні мап, які містять інформацію про культурну спадщину (наприклад, торгові шляхи, мінливі кордони, природні ресурси тощо).

Інтерфейс організовано у вигляді наступних вкладок:

- **Show:** displays only your map image
- **Edit:** allows you to edit the descriptive text (metadata)
- **Rectify:** used for the georeferencing itself
- **Align:** a useful tool if you are stitching together multiple maps
- **Preview:** shows your map overlaid on a modern base map
- **Export:** gives you a variety of export options and formats

- **Show (Перегляд):** відображає лише зображення вашої мапи

- **Edit (Редагування):** дозволяє редагувати описовий текст (метадані)

- **Rectify (Ректифікація):**[^3] використовується для самої прив'язки до місцевості

- **Align (Упорядкування):** корисний інструмент, якщо ви зшиваєте кілька мап разом

- **Preview (Попередній перегляд):** показує вашу мапу, накладену на сучасну базову мапу

- **Export (Експорт):** надає різні варіанти та формати експорту

{% include figure.html filename="figure3.jpg" alt="Screenshot of Map Warper's interface, with the Show, Edit, Rectify, Align, Preview and Export tabs at upper left. In the center of the interface is a scanned historical map, depicting North Carolina and South Carolina divided into counties and coloured variously in pink, green and pale yellow" caption="Зображення 3. Map Warper interface." %}

## Геоприв’язка вашої мапи

У цьому розділі ви будете здійснювати геоприв’язку завантаженої мапи. Перейдіть на вкладку "Вирівнювання/Ректифікації"; тут ви знайдете два вікна: ліворуч - завантажена мапа, праворуч - базова мапа OpenStreetMap (це шар, який задає опорні точки для вашого завантаженого зображення мапи). Нижче цих віконець ви знайдете "Панель керування", яка дозволяє вам точно налаштувати опорні точки і перевірити рівень їхньої відповідності.

![Layer icon](/images/introduccion-map-warper/layer_switcher_maximize.png)**Layer** дозволяє вибрати базовий шар з OpenStreetMap або Mapbox Satellite. Він також включає функцію **Overlay**, яка дозволяє накласти зображення робочої мапи (наприклад, плану Львова або ваше власне зображення) після підтвердження геоприв'язки.

![basemap icon](/images/introduccion-map-warper/addcustombasemap.png)**Add Custom Basemap (Додати користувацьку базову мапу)** у правому блоці дозволяє додати ще один користувацький базовий шар у форматі [XYZ Tiles](https://perma.cc/AN6Z-XALE) (наприклад, OpenStreetMap, Google Maps, Bing, [CARTO](https://perma.cc/WGZ9-HQ5U), [ESRI](https://perma.cc/DC2E-9PAM), [Stamen](https://perma.cc/7VLS-9LZZ) та інші шари).

Ви також можете додати наступні геоприв'язані базові карти з Map Warper:

```
* Google Maps: https://mt1.google.com/vt/lyrs=r&x={x}&y={y}&z={z}
* Google Satellite: https://www.google.cn/maps/vt?lyrs=s@189&gl=cn&x={x}&y={y}&z={z}
* Bing Satellite: https://ecn.t3.tiles.virtualearth.net/tiles/a{q}.jpeg?g=0&dir=dir_n’
* CARTO dark: https://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png
* Stamen Watercolor: https://tile.stamen.com/watercolor/{z}/{x}/{y}.jpg
```

![Control point icon](/images/introduccion-map-warper/add_control_point.gif)**Add control point (Додати опорну точку)**, доступну в обох вікнах, дає змогу додати опорні точки, які прив'язують точки на завантаженій або вибраній мапі до попередньо визначеного базового шару.

![Move control point icon](/images/introduccion-map-warper/move_control_point.gif)**Move Control Point (Перемістити опорну точку)** дозволяє переміщувати або переносити опорні точки і додавати їх в обидва вікна.

![Move around map icon](/images/introduccion-map-warper/move_around_map.gif) **Move Around Map (Переміщення мапи)** дозволяє переглядати мапи в обох вікнах без необхідності встановлювати або переміщати опорні точки. Це корисно для перевірки призначених опорних точок.

Блокування між двома вікнами допомагає керувати призначенням і переміщенням опорних точок. ![Zoom lock icon](/images/introduccion-map-warper/Zoom_lock.png)**Опція Zoom lock (Блокування масштабу)** дозволяє збільшувати масштаб мапи в обох вікнах одночасно. Це корисно для розміщення і перевірки опорних точок. Повторне натискання на блокування розблокує його. ![Pan icon](/images/introduccion-map-warper/lock_open.png)**Функція Pan (Панорамування)** дозволяє панорамувати різні ділянки зображень окремо.

**Keyboard shortcuts (Гарячі клавіші)** забезпечують швидкий доступ до наступних функцій:

- **p**: Клавіша активує функцію **Add Control Point (Додавання Опорної Точки)** ![Add control point icon](/images/introduccion-map-warper/add_control_point.gif)
- **d**: Клавіша активує **Move Control Point (Переміщення Опорної Точки)** ![Move control point icon](/images/introduccion-map-warper/move_control_point.gif)
- **m**: Клавіша активує **Move Around Map (Переміщення Мапи)** ![Move around map icon](/images/introduccion-map-warper/move_around_map.gif)
- **q**: Клавіша додає опорну точку у розташуванні курсору.
- **a**: Клавіша додає опорну точку у розташуванні курсору в обох вікнах.
- **Enter**: Клавіша замінює натискання комп’ютерної мишки **Add Control Point (Додати Опорну Точку)**, що підтверджує положення мітки.

При натисканні на **Control Points (Опорні Точки)** на Control Panel (Панелі Керування) відображається таблиця зі значеннями місцеположення (X, Y та широта, довгота) для призначених вами опорних точок. Тут ви можете видалити точки або відредагувати широту і довготу.

Ця таблиця також містить розділ, який визначає значення геометричної похибки, спричиненої геоприв'язкою історичного картографічного документа. Величина похибки для кожної точки обчислюється за середнім зваженим значенням і класифікується синім (низька похибка), жовтим (деяка похибка) або червоним (значна похибка) кольором. Див. нижче примітку про те, як обчислюється [Коренева Середньоквадратична похибка](https://perma.cc/73LU-GHG5).

Завантажте точки у форматі CSV (comma-separated values – “значення, розділені комою”), вибравши відповідну опцію в розділі Ground Control Points (Наземні Опорні Точки). Цей файл є корисним для імпорту даних в інші програми. Він також може бути формою цифрового зберігання для обробки геоприв'язаних даних архівної мапи.

Натиснувши кнопку **Add Control Point Manually (Додати Опорну Точку Вручну)**, ви можете додати опорну точку з координатами X, Y на вихідному зображенні до базового шару мапи з довготою і широтою. Якщо ви знаєте географічні координати, це може полегшити вирівнювання опорних точок на базовому шарі з більшою точністю.

**Add Control Points from CSV (Додати Опорні Точки з CSV)** дозволяє завантажити файл .csv для автоматизації процесу геоприв'язки. Перший рядок повинен містити заголовки таблиці Control Points (Опорні Точки). Подальші рядки повинні містити дані про координати X, Y для зображення `(X,Y)` і місце призначення `(Довгота, Широта)`, які відокремлені комами.

Наступний приклад .csv містить чотири стовпці, позначені 'x', 'y', 'lon' і 'lat' у чотирьох рядках, включаючи заголовки. Цей файл однаковий з тим, який було завантажено за допомогою кнопки ![csv icon](/images/introduccion-map-warper/csvicon.png) CSV.

```
x,y,lon,lat
3765.7477558347,1290.9407540395,-81.6339111296,36.5890683701
6424.7889362654,3307.9939407561,-77.8738403289,34.2299708101
7824.94456912,1323.6674147237,-75.9979248017,36.5184659884
```

## Практика

1\. Перейдіть на вкладку Rectify (Ректифікація зображення).
2\. Перемістіть мапу праворуч до плану Львова. Стрілки у верхній частині екрана злегка переміщують карту на північ, південь, схід і захід, вони допомагають внести невеликі корективи на мапі. Ви можете збільшувати і зменшувати масштаб за допомогою повзунка або за допомогою тачпада/миші. Щоб пересуватися мапою, натисніть на іконку з рукою. Щоб пересуватися мапою, натисніть на іконку з рукою.
3\. Після того, як ви освоїтеся з мапою, виберіть першу опорну точку. Почніть з історичної мапи і виберіть локацію &mdash;, яку буде відносно легко знайти, наприклад, місто &mdash;.
4\. Потім натисніть на зелену позначку опорної точки на сучасній мапі і знайдіть те саме місце, щоб вони збігалися.

    {% include figure.html filename="figure4.jpg" alt="Screenshot of the Rectify tab of Map Warper's interface, displaying a historical map on the left alongside a contemporary map on the right. The two maps delineate the same geographical region, at roughly the same scale. The two maps are marked with a set of closely-matching marker points." caption="Зображення 4. Match up your control points." %}

5\. Якщо ви не натиснете кнопку Add Control Point (Додати Опорну Точку), наступного разу, коли ви натиснете на мапу, додана вами опорна точка переміститься. Ця функція дає вам змогу гнучко налаштовувати точки під час додавання, однак це може вас заплутати, якщо ви не помітите, що ви не натиснули кнопку Додати Опорну Точку, через що ваша точка переміститься.

6\. Додайте принаймні 4 або 5 точок. Хорошою стратегією є розміщення точок на історичній карті, зосереджуючи увагу на державних кордонах, річках, лініях областей і великих містах. Якщо вам потрібно видалити опорну точку, натисніть на “Control Points” ("Опорні точки") на Control Panel (Панелі Керування) під мапою.

    {% include figure.html filename="mapwarper_controlpoints.png" alt="Cropped screenshot of Map Warper's interface depicting a section of the Control Panel with the Control Points button highlighted" caption="Зображення 5. Select Control Points in the Control panel." %}

7\. Вибравши Control Points (Опорні Точки), ви побачите всі додані вами точки, а також зможете видалити будь-які точки, які ви бажаєте переробити. Окрім того, ви можете змінювати точки широти і довготи вручну.

    {% include figure.html filename="mapwarper_controlpoints_rmserrordelete.png" alt="Cropped screenshot of Map Warper's interface depicting a section of the Control Panel where a list of Control Points are organised in table-format. Two columns of the table are highlighted and labelled: 'RMS Error' and 'Delete control points." caption="Зображення 6. Deleting control points and the RMS error." %}

<div class="alert alert-info">
Примітка: Ви побачите, що для кожної опорної точки є значення Похибки. Щоби оцінити трансформації різних опорних точок, Map Warper використовує обчислення Кореневої Середньоквадратичної похибки (КСКП), Root Mean Square. КСКП дає приблизне уявлення про те, наскільки ваші опорні точки узгоджені одна з одною щодо трансформації мапи, й оцінює, наскільки викривленою буде ваша мапа. Високі значення КСКП вказують на те, що ваші опорні точки менш узгоджені між собою, тоді як низьке значення КСКП вказує на більшу узгодженість і менші відхилення. Загалом рекомендується підтримувати низькі значення похибок і замінювати або видаляти опорні точки з високими значеннями. Попри те, що КСКП є хорошим способом визначити точність трансформації, вам завжди слід повторно оцінювати, наскільки добре ваша відсканована мапа відповідає сучасній мапі ГІС. Для отримання додаткової інформації про КСКП, будь ласка, перегляньте розділ Esri про інтерпретацію Кореневої Середньоквадратичної похибки в їхньому <a href="https://perma.cc/L4VD-VPVV">Огляді геоприв'язки</a>.
</div>

8\. Коли у вас достатньо точок і ви вважаєте, що вони добре розподілені на вашій історичній мапі, натисніть кнопку Warp Image! (Зв’язати зображення!) внизу сторінки. Геоприв'язка мап вимагає практики. Ви можете виявити, що ваша ректифікована мапа перетворюється у нечитабельну, викривлену мапу. Ми радимо вам повторити кроки 7-9, беручи до уваги згадані вище найкращі способи геоприв’язки, такі як визначення великих міст, доріг, струмків і річок, які ви можете упевнено ідентифікувати.

    {% include figure.html filename="mapwarper_warpbutton.png" alt="Cropped screenshot of Map Warper's interface depicting a section of the Control Panel with the Warp Image! button highlighted" caption="Зображення 7. Click Warp Image! to rectify your map." %}

9\. Тепер ви побачите мапу, накладену поверх OpenStreetMap.

    {% include figure.html filename="figure8.png" alt="Screenshot of Map Warper's interface, with the scanned historical map of North Carolina and South Carolina overlaid onto a contemporary 'base layer' map of the same geographical region, at the same scale. At the upper left, there is a four-way navigation tool, and a slider-style zoom tool. At the upper right, there are icons including a marker point, a hand, and a four-way navigation arrow. A semi-opaque, information panel at upper right indicates that the base layer originates from OpenStreetMap and the overlay is a warped map." caption="Зображення 8. Georeferenced map in OpenStreetMap." %}

10\. Ви можете переглянути базову мапу супутникових знімків або звичайний шар OpenStreetMap, який ми використовували.

    {% include figure.html filename="figure9.jpg" alt="Screenshot of Map Warper's interface, with the scanned historical map of North Carolina and South Carolina overlaid onto a contemporary 'base layer' map of the same geographical region, at the same scale. At the upper left, there is a four-way navigation tool, and a slider-style zoom tool. At the upper right, there are icons including a marker point, a hand, and a four-way navigation arrow. A semi-opaque, information panel at upper right indicates that the base layer originates from Mapbox Satellite and the overlay is a warped map." caption="Зображення 9. Georeferenced map in satellite view." %}

11\. Перейдіть на вкладку Preview (Попередній перегляд), щоб переглянути мапу з географічною прив'язкою у збільшеному вигляді. Щоби мати уявлення, наскільки точно було застосовано географічну прив’язку, використовуйте зміну прозорості мапи за допомогою повзунка.

    {% include figure.html filename="figure10.jpg" alt="Screenshot of the Preview tab of Map Warper's interface, with the scanned historical map of North Carolina and South Carolina overlaid onto a contemporary 'base layer' map of the same geographical region, at the same scale. A slider bar at the bottom of the interface is adjusted from the leftmost position, slightly towards the right." caption="Зображення 10. Map Warper Preview." %}

## Cropping (Кадрування)

Вкладка \*\*Crop (Кадрування) дозволяє кадрувати фрагмент завантаженої мапи. Це важливо для розділення мап на складові. Вікно дисплея поєднує в собі наступні дії:

- ![Move around map icon](/images/introduccion-map-warper/move_around_map.gif): **Переміщення мапою (Move around Map)**
- ![Polygon icon](/images/introduccion-map-warper/Draw_new_polygon.gif): **Створення нової ділянки для маскування (Draw new polygon to mask)**
- ![Delete a polygon icon](/images/introduccion-map-warper/delete_polygon.gif): **Видалення ділянки мапи (Delete a polygon)**

Обведіть ділянку, яку ви хочете зберегти. Щоб застосувати маску до мапи, натисніть “Mask Map!” ("Замаскувати мапу!")

## Align (Упорядкування)

Вкладка **Упорядкування** дозволяє організувати кілька мап у мозаїку. Цей інструмент добре підходить для з'єднання фрагментованих карт, аерофотознімків та інших фрагментованих картографічних документів. Натисніть “align map” ("зрівняти мапу"), щоб поєднати зображення.

## Preview (Попередній перегляд)

Ця вкладка дозволяє візуалізувати результати вашої роботи на етапі **Rectify (Ректифікації)**. Це корисно для продовження виконання геоприв'язки. Вікно перегляду також містить ті самі інструменти: переміщення, масштабування, прозорість і **layer (накладення шару)** ![Layer icon](/images/introduccion-map-warper/layer_switcher_maximize.png).

# Візуалізація

## Експорт мапи

Вкладка **Export (Експорт)** дозволяє експортувати геоприв'язану карту в різні стандартні формати для ГІС платформ візуалізації. Експортовані формати згруповані в три категорії:

- **Images (Зображення):** GeoTiff, ректифікований PNG. Ці формати об'єднують географічні координати та систему проекцій на картографічному документі, даючи змогу прив'язати документ геореференції до програми ГІС. Цей формат рекомендується для роботи на комп'ютерах без стабільного з'єднання з Інтернетом або за його відсутності.
- **Map Services (Картографічні сервіси):** KML, WMS, Tiles. Ці географічні формати схожі на формат Зображення, але їх можна використовувати лише на комп'ютерах з доступом до Інтернету.
- **Ground Control Points (Наземні Опорні Точки):** CSV. Ця категорія дозволяє завантажити таблицю Опорних Точок, створену на етапі “Rectify” ("Ректифікації"). Таблиця групує опорні точки між растровим зображенням (історичним картографічним документом) та векторною мапою OpenStreetMap. Тобто, вона зіставляє координати X, Y відповідно з довготою, широтою.

Геоприв'язане зображення може мати різні функції та властивості залежно від проекції, системи координат, еліпсоїда та даних, що використовуються відповідною ГІС платформою.

Тепер ви готові до експорту карти. Перейдіть на вкладку **Export (Експорт)**. У розділі **Map Services **(Картографічні сервіси) скопіюйте і вставте Tiles URL-адресу і збережіть це посилання, щоб використати його пізніше в розділі заняття ["Відображення геоприв'язаної мапи в Story Map JS Programming Historian"](/en/lessons/displaying-georeferenced-map-knightlab-storymap-js). Ось приклад форматування URL-адреси:

```
https://mapwarper.net/maps/tile/40217/{z}/{x}/{y}.png
```

## Activity (Активність)

На вкладці **Activity (Активність)** відображається журнал змін, зроблених на мапі. Журнал активності містить наступні поля: Час, Користувач, Мапа, Підсумок активності, Версія і Додаткова інформація. Будь-який користувач Map Warper може відстежувати зміни на мапі. Крім того, ![RSS feed icon](/images/introduccion-map-warper/rss.png) "RSS-стрічка" дозволяє користувачеві завантажувати загальну інформацію про всі зміни у форматі .rss.

## Comments (Коментарі)

Вкладка **Comments (Коментарі)** дозволяє користувачам збирати коментарі до мапи. Це відкритий канал, який надає можливість іншим спілкуватися з користувачем, який поділився картографічним матеріалом. Це також зручне місце для збагачення опису і каталогізації завантаженої карти. Переконайтеся, що ви натиснули кнопку **add comment (додати коментар)**, щоб зберегти його.

# Заключні зауваження

Технічні етапи, розглянуті в цьому занятті, корисні не лише для географічної прив'язки історичних карт, але й для роздумів про чіткі просторові зв'язки між місцем, історією та суб'єктами. Вони також корисні для поєднання цифрової мапи з даними з інших першоджерел (офіційних документів, статистики, фотографій, свідчень і т.д.). У такому разі заняття є вступом до вивчення можливостей використання такого типу матеріалу – історичних перспектив соціальних вимірів, які показані в географічно прив'язаному об'єкті – що й надалі стимулюватиме сферу просторової гуманітаристики.

## Endnotes

[^2]: The original Spanish tutorial uses a 1933 coffee map of the Republic of Colombia from Mapoteca Digital de la Biblioteca Nacional de Colombia, published by the Federación Nacional de Cafeteros de Colombia (National Federation Colombian Coffee Growers). This lesson substitutes the map in order to provide English-speaking users with a map with geographical locations in English.
[^3]: **Rectify (Ректифікація\Вирівнювання)** - процес трансформації, який дозволяє спроектувати два або більше зображень в одну спільну площину зображення.
